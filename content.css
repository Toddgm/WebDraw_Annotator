/* FILE: content.css */
@font-face {
  font-family: "Virgil";
  src: url("chrome-extension://__MSG_@@extension_id__/fonts/Virgil.woff2")
    format("woff2");
  font-weight: normal;
  font-style: normal;
}

/* ADDED: Nerd Font for Icons */
@font-face {
  font-family: "WebDrawNerdFont"; /* Custom name for our usage */
  src: url("chrome-extension://__MSG_@@extension_id__/fonts/BigBlueTerminalPlus.ttf")
    format("truetype");
  font-weight: normal;
  font-style: normal;
}

/* Ensure canvas stays behind toolbox but above page content */
#webDrawCanvas {
  position: absolute; /* Crucial for scrolling with document */
  top: 0;
  left: 0;
  z-index: 10000;
  pointer-events: auto; /* Capture clicks when active */
}

/* Toolbox Styling */
#webDrawToolbox {
  position: fixed; /* Stays in view */
  top: 20px;
  left: 20px;
  z-index: 10001; /* Above canvas */
  background-color: #ffffff;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  padding: 8px;
  display: flex;
  align-items: center;
  gap: 5px; /* Space between buttons */
  /* Font family for text within toolbox, icons will use Nerd Font */
  font-family: "Virgil", "Helvetica Neue", Arial, sans-serif;
  border: 1px solid #e0e0e0;
  cursor: default;
  user-select: none;
}

.webdraw-title {
  font-weight: bold;
  margin-right: 10px;
  font-size: 14px;
  color: #333;
  cursor: grab;
}
.webdraw-title:active {
  cursor: grabbing;
}

.webdraw-button {
  background-color: transparent;
  border: 1px solid transparent;
  border-radius: 6px;
  padding: 6px 8px;
  cursor: pointer;
  /* UPDATED: Apply Nerd Font for icons, adjust size */
  font-family: "WebDrawNerdFont", "Virgil", "Helvetica Neue", Arial, sans-serif;
  font-size: 20px; /* Adjust as needed for Nerd Font icons */
  line-height: 1;
  transition: background-color 0.2s ease, border-color 0.2s ease;
  color: #555;
  display: flex;
  align-items: center;
  justify-content: center;
  min-width: 30px; /* Ensure buttons have some width for icons */
  min-height: 30px; /* Ensure buttons have some height for icons */
}

.webdraw-button:hover {
  background-color: #f0f0f0;
  border-color: #d0d0d0;
}

.webdraw-button.active {
  background-color: #e6f7ff;
  border-color: #91d5ff;
  color: #1890ff;
}

/* Style Sub-window */
#webDrawStyleSubwindow {
  position: absolute;
  background-color: #ffffff;
  border-radius: 6px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  padding: 10px;
  z-index: 10002;
  display: flex;
  flex-direction: column;
  gap: 8px;
  border: 1px solid #e0e0e0;
  min-width: 180px; /* Slightly wider for new font buttons */
  cursor: default; /* Default for subwindow, grab for drag handle */
  user-select: none;
}

/* ADDED: Drag handle for subwindow */
.webdraw-subwindow-drag-handle {
  padding: 5px;
  margin: -10px -10px 5px -10px; /* Extend to edges, add bottom margin */
  background-color: #f0f0f0;
  border-bottom: 1px solid #e0e0e0;
  border-top-left-radius: 6px;
  border-top-right-radius: 6px;
  text-align: center;
  font-size: 10px;
  color: #777;
  cursor: grab;
  line-height: 1;
}
.webdraw-subwindow-drag-handle:active {
  cursor: grabbing;
}

.webdraw-style-section {
  display: flex;
  align-items: center;
  gap: 6px;
  flex-wrap: wrap;
}

.webdraw-style-label {
  font-size: 12px;
  color: #555;
  margin-right: 4px;
  min-width: 40px;
  text-align: right;
  font-family: "Virgil", "Helvetica Neue", Arial, sans-serif; /* Ensure label uses Virgil */
}

/* Preset Color Buttons */
.webdraw-color-button {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  border: 2px solid transparent;
  cursor: pointer;
  transition: border-color 0.2s ease;
  box-sizing: border-box;
}

.webdraw-color-button:hover {
  border-color: #a0a0a0;
}

.webdraw-color-button.active {
  border-color: #1890ff;
}

/* Width Buttons (S/M/L) */
.webdraw-width-button {
  font-size: 12px;
  padding: 4px 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
  background-color: #fff;
  min-width: 30px;
  text-align: center;
  font-family: "Virgil", "Helvetica Neue", Arial, sans-serif; /* Ensure SML uses Virgil */
}
.webdraw-width-button:hover {
  background-color: #f0f0f0;
  border-color: #adadad;
}
.webdraw-width-button.active {
  background-color: #e6f7ff;
  border-color: #91d5ff;
  color: #1890ff;
}

/* Width Example Lines */
.webdraw-width-example {
  height: 10px;
  width: 20px;
  display: flex;
  align-items: center;
  margin-left: -5px;
}
.webdraw-width-example hr {
  width: 100%;
  border: 0;
  margin: 0;
  background-color: #555;
}

/* Line Style Buttons (Solid/Dotted) */
.webdraw-linestyle-button {
  padding: 4px;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
  background-color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  height: 22px;
}
.webdraw-linestyle-button hr {
  width: 80%;
  border: 0;
  border-top-width: 2px;
  border-top-color: #555;
  margin: 0;
}
.webdraw-linestyle-button:hover {
  background-color: #f0f0f0;
  border-color: #adadad;
}
.webdraw-linestyle-button.active {
  background-color: #e6f7ff;
  border-color: #91d5ff;
}

/* Font Family Buttons */
.webdraw-font-button {
  /* Font for displaying name, not the actual font sample */
  font-family: "Virgil", "Helvetica Neue", Arial, sans-serif;
  font-size: 12px;
  padding: 4px 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
  background-color: #fff;
  flex-grow: 1;
  text-align: center;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  min-width: 45px; /* Adjusted for "Courier" */
  height: 22px; /* Match other buttons */
  box-sizing: border-box;
}
.webdraw-font-button:hover {
  background-color: #f0f0f0;
  border-color: #adadad;
}
.webdraw-font-button.active {
  background-color: #e6f7ff;
  border-color: #91d5ff;
  color: #1890ff;
}

/* Text Align Buttons */
.webdraw-align-button {
  /* UPDATED: Use Nerd Font for alignment icons if desired, else text */
  font-family: "WebDrawNerdFont", "Virgil", "Helvetica Neue", Arial, sans-serif;
  font-size: 16px; /* Adjust if using Nerd Font icons */
  padding: 4px 8px;
  border: 1px solid #ccc;
  border-radius: 4px;
  cursor: pointer;
  background-color: #fff;
  min-width: 30px;
  text-align: center;
}
.webdraw-align-button:hover {
  background-color: #f0f0f0;
  border-color: #adadad;
}
.webdraw-align-button.active {
  background-color: #e6f7ff;
  border-color: #91d5ff;
  color: #1890ff;
}

/* Text Input Styling */
#webDrawTextInput {
  position: absolute;
  background: rgba(240, 240, 240, 0.85);
  border: none;
  padding: 5px 8px;
  /* font-size will be set by currentFontSize */
  /* font-family will be set by currentFontFamily */
  /* color will be set by currentColor */
  min-width: 60px;
  z-index: 10002;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  line-height: 1.4;
  outline: none;
  overflow-wrap: break-word;
}

/* Share Notification Styling */
#webDrawNotification {
  position: fixed;
  bottom: 30px;
  left: 50%;
  transform: translateX(-50%);
  background-color: rgba(0, 128, 0, 0.8);
  color: white;
  padding: 10px 20px;
  border-radius: 15px;
  z-index: 10005;
  font-size: 14px;
  font-family: "Helvetica Neue", Arial, sans-serif;
  opacity: 0;
  transition: opacity 0.5s ease-in-out;
  pointer-events: none;
  white-space: nowrap;
}

#webDrawNotification.visible {
  opacity: 1;
}

#webDrawNotification.error {
  background-color: rgba(220, 53, 69, 0.85);
}

/* Confirmation Dialog Styling */
#webDrawConfirmation {
  position: fixed;
  left: 50%;
  top: 40%;
  transform: translate(-50%, -50%);
  background-color: #ffffff;
  border: 1px solid #ccc;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
  padding: 25px 30px;
  border-radius: 8px;
  z-index: 10006;
  text-align: center;
  min-width: 280px; /* Wider for multiple buttons */
  font-family: "Helvetica Neue", Arial, sans-serif;
  font-size: 15px;
  color: #333;
}

#webDrawConfirmation p {
  margin: 0 0 20px 0;
}

.webdraw-confirm-buttons {
  display: flex;
  gap: 10px; /* Reduced gap slightly if buttons are wider */
  justify-content: center;
  flex-wrap: wrap; /* Allow buttons to wrap if needed */
}

#webDrawConfirmation button {
  padding: 10px 15px; /* Adjusted padding */
  border: 1px solid #ccc;
  border-radius: 5px;
  cursor: pointer;
  font-size: 14px;
  font-weight: bold;
  min-width: 100px; /* Ensure buttons have enough space for text */
  transition: background-color 0.2s ease, border-color 0.2s ease;
  margin-bottom: 5px; /* For wrapping */
}

#webDrawConfirmation button.confirm-action-normal {
  /* Generic confirm button */
  background-color: #5cb85c; /* Bootstrap success green */
  color: white;
  border-color: #4cae4c;
}
#webDrawConfirmation button.confirm-action-normal:hover {
  background-color: #449d44;
  border-color: #398439;
}

#webDrawConfirmation button.confirm-action-danger {
  /* For destructive actions */
  background-color: #d9534f;
  color: white;
  border-color: #d43f3a;
}
#webDrawConfirmation button.confirm-action-danger:hover {
  background-color: #c9302c;
  border-color: #ac2925;
}

#webDrawConfirmation button.confirm-action-cancel {
  background-color: #f8f9fa;
  color: #333;
  border-color: #ced4da;
}
#webDrawConfirmation button.confirm-action-cancel:hover {
  background-color: #e2e6ea;
  border-color: #dae0e5;
}
